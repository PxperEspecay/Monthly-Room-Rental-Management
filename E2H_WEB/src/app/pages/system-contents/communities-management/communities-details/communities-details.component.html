<div class="row mb-5 bg-tab d-flex align-items-center sticky-top">
    <img class="bg-img p-0 m-0" src="assets/images/bg_head_dialog.png" alt="" />
    <div class="col mt-3 ms-3 d-flex justify-content-between">
      <h1 class="fs-2">แก้ไข</h1>
      <span class="material-icons" role="button" (click)="cancel()"> close </span>
    </div>
</div>

<div class="row d-flex justify-content-between m-0 p-0">
    <div class="col">

        <div class="card" style="border-radius: 16px; border-color: #019393;">
            <div class="card-body p-5">

                <div class="row p-0">
                    <div class="col-12">

                        <!-- <div class="row">
                            <div class="col-xl-12 d-flex align-items-center mb-3">
                                <label class="number-icon me-3">1</label>
                                <label>ข้อมูลเจ้าของ</label>
                            </div>

                            <ng-container>
                                <div class="col-xl-3 d-flex flex-column mb-3 align-bottom">
                                    <label class="f-b mb-2" for="">คำนำหน้าชื่อ</label>
                                    <select class="form-select rounded-3" [(ngModel)]="commuities_details.prefix_owner">
                                        <option selected disabled hidden value="">เลือก</option>
                                        <option *ngFor="let i of prefix_name_th" [value]="i.prefix_name_th">
                                            {{ i.prefix_name_th }}
                                        </option>
                                    </select>
                                </div>
                            </ng-container>

                            <div class="col-xl-3 d-flex flex-column mb-3">
                                <label class="f-b mb-2" for="">ชื่อ</label>
                                <input type="text" class="form-control rounded-3" placeholder="ชื่อ" [(ngModel)]="commuities_details.first_name_owner"/>
                            </div>
    
                            <div class="col-xl-3 d-flex flex-column mb-3">
                                <label class="f-b mb-2" for="">ชื่อกลาง</label>
                                <input type="text" class="form-control rounded-3" placeholder="ชื่อกลาง" [(ngModel)]="commuities_details.middle_name_owner"/>
                            </div>
    
                            <div class="col-xl-3 d-flex flex-column mb-3">
                                <label class="f-b mb-2" for="">นามสกุล</label>
                                <input type="text" class="form-control rounded-3" placeholder="นามสกุล" [(ngModel)]="commuities_details.last_name_owner"/>
                            </div>

                            <div class="col-xl-6 d-flex flex-column mb-3">
                                <label class="f-b mb-2" for="">อีเมล</label>
                                <input type="text" class="form-control rounded-3" placeholder="อีเมล" [(ngModel)]="commuities_details.email_owner"/>
                            </div>
    
                            <div class="col-xl-3 d-flex flex-column mb-3">
                                <label class="f-b mb-2" for="">เบอร์โทรศัพท์</label>
                                <input type="text" class="form-control rounded-3" placeholder="เบอร์โทรศัพท์"
                                    oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\..*?)\..*/g, '$1');"
                                    maxlength="10" [(ngModel)]="commuities_details.phone_number_owner"/>
                            </div>

                            <div class="col-xl-3 d-flex flex-column mb-3">
                                <label class="f-b mb-2" for="">เบอร์โทรสำนักงาน</label>
                                <input type="text" class="form-control rounded-3" placeholder="เบอร์โทรสำนักงาน"
                                    oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\..*?)\..*/g, '$1');"
                                    maxlength="10" [(ngModel)]="commuities_details.office_phone_number_owner"/>
                            </div>

                            
                        </div> -->

                        <div class="row">
                            <div class="col-xl-12 d-flex align-items-center mb-3">
                                <label class="number-icon me-3">1</label>
                                <label>รายละเอียดสถานที่</label>
                            </div>
                            <div class="col-6 mb-3">
                                <label for="" class="mb-2 f-b">ชื่อชุมชน TH*</label>
                                <input type="text" class="form-control rounded-3" placeholder="ชื่อชุมชน ( ไทย )"
                                    name="name"  [(ngModel)]="commuities_details.community_name_th" />
                            </div>
                            <div class="col-6 mb-3">
                                <label for="" class="mb-2 f-b">ชื่อชุมชน EN*</label>
                                <input type="text" class="form-control rounded-3" placeholder="ชื่อชุมชน ( อังกฤษ )"
                                    name="name"  [(ngModel)]="commuities_details.community_name_en" />
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-12 mb-3">
                                <label for="" class="mb-2 f-b">อธิบายเพิ่มเติม</label>
                                <textarea type="text" class="form-control rounded-3" placeholder="รายละเอียด"
                                    name="name" 
                                    [(ngModel)]="commuities_details.description"></textarea>
                            </div>
                        </div>

                        <!-- <div class="row">
                            <div class="col-6 mb-3">
                                <label for="" class="mb-2 f-b">จำนวนชั้นทั้งหมด</label>
                                <input type="text" class="form-control rounded-3" placeholder="จำนวนชั้น" name="name"
                                     />
                            </div>
                            <div class="col-6 mb-3">
                                <label for="" class="mb-2 f-b">จำนวนห้องทั้งหมด EN*</label>
                                <input type="text" class="form-control rounded-3" placeholder="จำนวนห้องทั้งหมด" name="name"
                                     />
                            </div>
                        </div> -->

                        <div class="row">
                            <div class="col-xl-12 d-flex align-items-center mb-3">
                                <label class="number-icon me-3">2</label>
                                <label>สถานที่ตั้ง</label>
                            </div>
                            <div class="col-3 mb-3">
                                <label for="" class="mb-2 f-b">เลขที่</label>
                                <input type="text" class="form-control rounded-3" placeholder="เลขที่" name="name"
                                     [(ngModel)]="commuities_details.address" />
                            </div>
                            <div class="col-3 mb-3">
                                <label for="" class="mb-2 f-b">หมู่</label>
                                <input type="text" class="form-control rounded-3" placeholder="หมู่" name="name"
                                     [(ngModel)]="commuities_details.address_moo" />
                            </div>
                            <div class="col-3 mb-3">
                                <label for="" class="mb-2 f-b">ถนน</label>
                                <input type="text" class="form-control rounded-3" placeholder="ถนน" name="name"
                                     [(ngModel)]="commuities_details.street" />
                            </div>
                            <div class="col-3 mb-3">
                                <label for="" class="mb-2 f-b">ตำบล</label>
                                <input type="text" class="form-control rounded-3" placeholder="ตำบล" name="name"
                                     [(ngModel)]="commuities_details.sub_district" />
                            </div>
                            <div class="col-3 mb-3">
                                <label for="" class="mb-2 f-b">แขวง/เขต/อำเภอ</label>
                                <input type="text" class="form-control rounded-3" placeholder="แขวง/เขต/อำเภอ"
                                    name="name"  [(ngModel)]="commuities_details.district" />
                            </div>
                            <div class="col-3 mb-3">
                                <label for="" class="mb-2 f-b">จังหวัด</label>
                                <input type="text" class="form-control rounded-3" placeholder="จังหวัด" name="name"
                                     [(ngModel)]="commuities_details.province" />
                            </div>
                            <div class="col-3 mb-3">
                                <label for="" class="mb-2 f-b">รหัสไปรษณีย์</label>
                                <input type="text" class="form-control rounded-3" placeholder="รหัสไปรษณีย์" name="name"
                                     [(ngModel)]="commuities_details.zip_code" />
                            </div>

                            <div class="col-xl-3 d-flex flex-column mb-3">
                                <label class="f-b mb-2" for="">เบอร์โทรสำนักงาน</label>
                                <input type="text" class="form-control rounded-3" placeholder="เบอร์โทรสำนักงาน"
                                    oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\..*?)\..*/g, '$1');"
                                    maxlength="10" [(ngModel)]="commuities_details.office_phone_number"/>
                            </div>
                        </div>

                        <!-- รูปภาพที่ 1 -->
                        <ng-container>
                            <div class="row">
                                <div class="col-12 d-flex flex-column mt-3">
                                    <label for="" class="f-b mb-2" style="color: #000">รูปภาพ</label>
                                    <div class="row">
                                        <div class="col p-0 d-flex align-items-center">
                                            <ul>
                                                <li class="f-b" style="color: #000">แนบไฟล์ที่ 1</li>
                                            </ul>
                                        </div>
                                        <div class="col-2 p-0 d-flex align-items-center justify-content-end">
                                            <label for="select-img" style="cursor: pointer">
                                                <span class="material-icons plus-icon rounded-2" for="select-img"  style="color: #006666; background-color: #f2f2f2">
                                                    add
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                    <br />
                                    <input id="select-img" type="file" style="display: none" name="img_commu1"
                                        accept="image/jpg, image/png, image/jpeg" (change)="SelectImageCommu1($event)" />
                                </div>
                            </div>
                        
                            <div class="row">
                                <div class="col d-flex justify-content-between">
                                    <div *ngIf="preview1 || commuities_details.img_commu1" class="m-0 p-0 align-items-center" style="position: relative !important">
                                        <img class="circle-photo me-3 mb-3"
                                            style="height: 150px !important; width: 300px !important; border-radius: 8px;"
                                            [src]="preview1 ? preview1 : commuities_details.img_commu1" alt="Preview" />
                                        <span *ngIf="fileInfo1">{{ fileInfo1.name }}</span>
                                    </div>
                        
                                    <div *ngIf="fileInfo1 || commuities_details.img_commu1" class="m-0 p-0 d-flex justify-content-between align-items-center">
                                        <div class="m-0 p-0 d-flex align-items-center text-end">
                                            <span *ngIf="fileInfo1" style="color: #989898;">{{ showMegaByte(fileInfo1.size) }} MB</span>
                                            <span class="material-icons fs-5 ps-3" role="button" (click)="DeleteImageCommu1()"
                                                style="color: red;">
                                                close
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </ng-container>
                        

                        <!-- รูปภาพที่ 2 -->
                        <ng-container>

                            <div class="row">
                                <div class="col-12 d-flex flex-column mt-3">
                                    <!-- <label for="" class="f-b mb-2" style="color: #000">รูปภาพ</label> -->
                                    <div class="row">
                                        <div class="col p-0 d-flex align-items-center">
                                            <ul>
                                                <li class="f-b" style="color: #000">แนบไฟล์ที่ 2</li>
                                            </ul>
                                        </div>
                                        <div class="col-2 p-0 d-flex align-items-center justify-content-end">
                                            <label for="select-img2" style="cursor: pointer">
                                                <span class="material-icons plus-icon rounded-2" for="select-img2" style="color: #006666; background-color: #f2f2f2">
                                                    add
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                    <br />
                                    <!-- <input type="file" name="" id="" id="select-img2" name="select-img2" hidden multiple
                                        (change)="uploadImages($any($event.target).files)" /> -->
                                    <input id="select-img2" type="file" style="display: none" name="img_commu2"
                                        accept="image/jpg, image/png, image/jpeg" (change)="SelectImageCommu2($event)" />
    
                                </div>
                            </div>
    
                            <div class="row">
                                <div class="col d-flex justify-content-between">
                                    <div *ngIf="preview2 || commuities_details.img_commu2" class="m-0 p-0 align-items-center" style="position: relative !important">
                                        <img class="circle-photo me-3 mb-3"
                                            style="height: 150px !important; width: 300px !important; border-radius: 8px;"
                                            [src]="preview2 ? preview2 : commuities_details.img_commu2" alt="Preview" />
                                        <span *ngIf="fileInfo2">{{ fileInfo2.name }}</span>
                                    </div>
                        
                                    <div *ngIf="fileInfo2 || commuities_details.img_commu2" class="m-0 p-0 d-flex justify-content-between align-items-center">
                                        <div class="m-0 p-0 d-flex align-items-center text-end">
                                            <span *ngIf="fileInfo2" style="color: #989898;">{{ showMegaByte(fileInfo2.size) }} MB</span>
                                            <span class="material-icons fs-5 ps-3" role="button" (click)="DeleteImageCommu2()"
                                                style="color: red;">
                                                close
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
    

                        </ng-container>

                        <!-- รูปภาพที่ 3 -->
                        <ng-container>

                            <div class="row">
                                <div class="col-12 d-flex flex-column mt-3">
                                    <!-- <label for="" class="f-b mb-2" style="color: #000">รูปภาพ</label> -->
                                    <div class="row">
                                        <div class="col p-0 d-flex align-items-center">
                                            <ul>
                                                <li class="f-b" style="color: #000">แนบไฟล์ที่ 3</li>
                                            </ul>
                                        </div>
                                        <div class="col-2 p-0 d-flex align-items-center justify-content-end">
                                            <label for="select-img3" style="cursor: pointer">
                                                <span class="material-icons plus-icon rounded-2" for="select-img3" style="color: #006666; background-color: #f2f2f2">
                                                    add
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                    <br />
                                    <!-- <input type="file" name="" id="" id="select-img3" name="select-img3" hidden multiple
                                        (change)="uploadImages($any($event.target).files)" /> -->
                                    <input id="select-img3" type="file" style="display: none" name="img_commu3"
                                        accept="image/jpg, image/png, image/jpeg" (change)="SelectImageCommu3($event)" />
    
                                </div>
                            </div>
    
                            <div class="row">
                                <div class="col d-flex justify-content-between">
                                    <div *ngIf="preview3 || commuities_details.img_commu3" class="m-0 p-0 align-items-center" style="position: relative !important">
                                        <img class="circle-photo me-3 mb-3"
                                            style="height: 150px !important; width: 300px !important; border-radius: 8px;"
                                            [src]="preview3 ? preview3 : commuities_details.img_commu3" alt="Preview" />
                                        <span *ngIf="fileInfo3">{{ fileInfo3.name }}</span>
                                    </div>
                        
                                    <div *ngIf="fileInfo3 || commuities_details.img_commu3" class="m-0 p-0 d-flex justify-content-between align-items-center">
                                        <div class="m-0 p-0 d-flex align-items-center text-end">
                                            <span *ngIf="fileInfo3" style="color: #989898;">{{ showMegaByte(fileInfo3.size) }} MB</span>
                                            <span class="material-icons fs-5 ps-3" role="button" (click)="DeleteImageCommu3()"
                                                style="color: red;">
                                                close
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
    

                        </ng-container>

                        
                    </div>
                </div>

            </div>
        </div>

    </div>
</div>

<!-- <div class="row">
    <div class="col my-3">
        <div class="card" style="border-radius: 16px;">
            <div class="card-body p-5">
                <ng-container *ngFor="let df of day_offs; let i = index; let last = last">
                    <div class="row pt-2">
                        <div class="col">

                            <div class="row">

                                <div class="col-xl-12 d-flex align-items-center mb-3">
                                    <label class="number-icon me-3">2</label>
                                    <label>ข้อมูลห้องพัก</label>
                                </div>
                                
                                <div class="col-4">
                                    <label for="" class="mb-2 f-b">เลขห้อง / บ้านเลขที่</label>
                                    <input type="text" class="form-control rounded-3" placeholder="เลขห้อง / บ้านเลขที่"
                                        name="name"  [(ngModel)]="df.room_number" />
                                </div>

                                <div class="col-4">
                                    <label for="" class="mb-2 f-b">ชั้นที่</label>
                                    <input type="text" class="form-control rounded-3" placeholder="ชั้นที่"
                                        name="name"  [(ngModel)]="df.floor" />
                                </div>
                                
                               
                                <div class="col-2 d-flex align-items-end">
                                    <button *ngIf="!last" class="btn add-remove-btn"
                                        (click)="toggleButton(i, df.day_off_id)">
                                        <span class="material-icons"> remove </span>
                                    </button>
                                    <ng-container class="m-0 p-0" *ngIf="last">
                                        <button class="btn add-remove-btn" (click)="toggleButton(i, df.day_off_id)">
                                            <span class="material-icons"> remove </span>
                                        </button>
                                        <button class="btn add-remove-btn" (click)="addNewDayOff()">
                                            <span class="material-icons"> add </span>
                                        </button>
                                    </ng-container>
                                </div>
                            </div>

                            


                            
                        </div>
                    </div>
                </ng-container>
            </div>
        </div>
    </div>
</div> -->

<div class="row">
    <div class="col text-end my-3">
        <button class="col-xl-2 col-lg-2 col-md-2 col-2 btn btn-cancel me-2" mat-button color="primary" (click)="cancel()">
            ยกเลิก
        </button>
        <button class="col-xl-2 col-lg-2 col-md-2 col-2 btn btn-submit ms-2" mat-button color="primary" (click)="SubmitEdit_Community()">
            บันทึก
        </button>
    </div>
</div>
